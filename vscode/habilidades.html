<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Creavia — Test Vocacional</title>

<style>
:root{
  --bg:#f5f7fa;
  --white:#ffffff;
  --muted:#6b6b6b;
  --light:#dfe6ef;
  --primary:#2563eb;
  --accent:#059669;
  --radius:12px;
  --card-shadow: 0 6px 18px rgba(20,30,60,0.06);
}

/* Base */
*{box-sizing:border-box}
body{
  margin:0;
  font-family:"Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
  background:var(--bg);
  color:var(--muted);
}

/* Header */
header{
  position:fixed;
  top:0; left:0;
  width:100%;
  background:var(--white);
  padding:12px 28px;
  box-shadow:0 2px 10px rgba(20,30,60,0.04);
  display:flex;
  align-items:center;
  justify-content:space-between;
  z-index:100;
}

.brand{
  display:flex;
  align-items:center;
  gap:12px;
}

.brand img{
  width:44px;
  height:44px;
  border-radius:8px;
  object-fit:cover;
}

.brand .title{
  font-weight:800;
  color:#1f2937;
  font-size:1.2rem;
}

.nav-menu{
  display:flex;
  gap:18px;
  align-items:center;
}

.nav-menu a{
  color:var(--muted);
  text-decoration:none;
  font-weight:700;
}

.nav-menu a:hover{
  color:var(--primary);
}

.nav-menu a.active{
  color:var(--primary);
}

/* Main */
main{
  margin:120px auto 60px;
  width:92%;
  max-width:900px;
}

h1{
  font-size:2rem;
  color:#0f172a;
  font-weight:800;
}

p.lead{
  margin-top:6px;
  color:#475569;
}

/* Category buttons */
.cat-buttons{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  margin:12px 0 20px;
}

.filter-btn{
  padding:10px 14px;
  background:var(--white);
  border:1px solid var(--light);
  border-radius:999px;
  font-weight:700;
  cursor:pointer;
}

.filter-btn:hover{
  border-color:var(--primary);
  color:var(--primary);
}

.filter-btn.active{
  border-color:var(--primary);
  color:var(--primary);
  box-shadow:0 6px 18px rgba(37,99,235,0.10);
}

/* Classification lists */
.clasificacion-box{
  display:flex;
  flex-direction:column;
  gap:10px;
  margin-bottom:16px;
}

.clasificacion-box p{
  background:#fff;
  padding:12px;
  border-radius:10px;
  border:1px solid var(--light);
  cursor:pointer;
  font-weight:700;
}

.clasificacion-box p:hover{
  border-color:var(--primary);
  color:var(--primary);
}

/* Questions */
.pregunta{
  background:#fff;
  border:1px solid var(--light);
  border-radius:10px;
  padding:12px;
  margin-bottom:12px;
  display:flex;
  justify-content:space-between;
}

.scale{
  display:flex;
  gap:8px;
}

/* Buttons */
.btn-primary{
  background:var(--accent);
  color:#fff;
  border:none;
  padding:9px 14px;
  border-radius:10px;
  cursor:pointer;
  font-weight:800;
}

.btn-ghost{
  background:transparent;
  border:1px solid var(--light);
  padding:9px 14px;
  border-radius:10px;
  cursor:pointer;
  font-weight:700;
}

/* Result */
.result-box{
  background:#fff;
  border:1px solid var(--light);
  border-radius:12px;
  padding:20px;
  margin-top:20px;
  box-shadow:var(--card-shadow);
  display:none;
}

.result-box h3{
  margin-top:0;
}

</style>
</head>

<body>

<header>
  <div class="brand">
    <img src="../Imagenes/LOG2.jpg" alt="Logo Creavia">
    <div class="title">Creavia</div>
  </div>

  <nav class="nav-menu">
    <a href="../index.html">Inicio</a>
    <a href="habilidades.html">Habilidades</a>
    <a href="cursos.html">Cursos</a>
    <a href="sesion.html">Iniciar Sesión</a>
  </nav>
</header>

<main>
  <h1>Test Vocacional</h1>
  <p class="lead">Selecciona una categoría y responde cada grupo de preguntas.</p>

  <!-- Botones grandes -->
  <div class="cat-buttons">
    <button class="filter-btn" onclick="toggleClasificacionBlandas()">Habilidades blandas</button>
    <button class="filter-btn" onclick="toggleClasificacionDuras()">Habilidades duras</button>
    <button class="filter-btn" id="btn-final" style="display:none" onclick="mostrarResultadoFinal()">Resultado final</button>
  </div>

  <!-- Listas -->
  <div id="clasificacion-blandas" class="clasificacion-box" style="display:none"></div>
  <div id="preguntas-blandas"></div>
  <div id="clasificacion-duras" class="clasificacion-box" style="display:none"></div>
  <div id="preguntas-duras"></div>

  <!-- Resultado final -->
  <div id="resultado-final" class="result-box"></div>

</main>

<script>

/* ---------------------- PREGUNTAS ---------------------- */
const preguntasBlandas = {
  interpersonales:[
    "¿Cómo manejas los desacuerdos con otras personas?",
    "¿Qué tan fácil se te hace trabajar en equipo?",
    "¿Cómo inicias una conversación con alguien nuevo?",
    "¿Qué haces para resolver un conflicto?",
    "¿Cómo reaccionas cuando una persona no cumple su parte?",
    "¿Escuchas activamente cuando alguien habla?",
    "¿Te consideras empático?",
    "¿Cómo apoyas a tus compañeros?",
    "¿Te adaptas a diferentes personalidades?",
    "¿Cómo te comunicas cuando algo no te parece?"
  ],
  intrapersonales:[
    "¿Qué haces cuando sientes mucha presión?",
    "¿Cómo manejas tus emociones?",
    "¿Qué tan organizado eres?",
    "¿Cómo te motivas en momentos difíciles?",
    "¿Reconoces tus errores con facilidad?",
    "¿Qué haces para mejorar tus debilidades?",
    "¿Eres disciplinado?",
    "¿Cómo manejas el estrés?",
    "¿Cómo te mantienes enfocado?",
    "¿Cómo te recuperas de una falla?"
  ],
  cognitivas:[
    "¿Cómo resuelves un problema cuando no sabes la solución?",
    "¿Qué tan rápido aprendes cosas nuevas?",
    "¿Cómo tomas decisiones importantes?",
    "¿Cómo recuerdas información?",
    "¿Cómo analizas un reto complicado?",
    "¿Te consideras creativo?",
    "¿Qué haces cuando estás bloqueado mentalmente?",
    "¿Cómo organizas ideas?",
    "¿Cómo evalúas consecuencias?",
    "¿Cómo encuentras soluciones diferentes?"
  ]
};

const preguntasDuras = {
  tecnologicas:[
    "¿Qué tan hábil eres usando software especializado?",
    "¿Te gusta resolver problemas técnicos?",
    "¿Te sientes cómodo con la programación?",
    "¿Te interesa cómo funcionan los dispositivos?",
    "¿Qué tanto disfrutas crear o reparar cosas?",
    "¿Aprendes rápido herramientas digitales?",
    "¿Te interesa ingeniería o tecnología?",
    "¿Te gustan los sistemas lógicos?",
    "¿Te adaptas a herramientas nuevas?",
    "¿Disfrutas resolver retos técnicos?"
  ],
  creativas:[
    "¿Te gusta dibujar o diseñar?",
    "¿Te interesa arte, música o fotografía?",
    "¿Imaginas ideas nuevas fácilmente?",
    "¿Combinas colores con facilidad?",
    "¿Te gusta escribir historias?",
    "¿Te inspiras fácilmente?",
    "¿Te gusta expresarte?",
    "¿Tienes buena percepción visual?",
    "¿Creas ideas originales?",
    "¿Disfrutas edición o arte?"
  ],
  administrativas:[
    "¿Te gusta organizar tareas?",
    "¿Te gustan los números o datos?",
    "¿Gestionas bien el tiempo?",
    "¿Te interesa el mundo empresarial?",
    "¿Te gusta planear actividades?",
    "¿Te adaptas a entornos estructurados?",
    "¿Eres hábil con trámites?",
    "¿Te gustan actividades contables?",
    "¿Sigues procesos fácilmente?",
    "¿Te ves trabajando en oficina?"
  ]
};

/* ---------------------- CONTRIBUCIONES ---------------------- */
const contribuciones = {
  interpersonales:{social:1},
  intrapersonales:{administrativo:0.5,salud:0.5},
  cognitivas:{tecnologico:0.6,creativo:0.4},
  tecnologicas:{tecnologico:1},
  creativas:{creativo:1},
  administrativas:{administrativo:1}
};

const storedCategoryScores = {};
const profileTotals = {tecnologico:0,creativo:0,social:0,salud:0,administrativo:0};

/* ---------------------- UI LOGIC ---------------------- */

function toggleClasificacionBlandas(){
  document.getElementById('clasificacion-blandas').style.display="block";
  document.getElementById('clasificacion-duras').style.display="none";
  renderClasificaciones('blandas');
}

function toggleClasificacionDuras(){
  document.getElementById('clasificacion-blandas').style.display="none";
  document.getElementById('clasificacion-duras').style.display="block";
  renderClasificaciones('duras');
}

function renderClasificaciones(tipo){
  let cont = tipo==='blandas' ? document.getElementById('clasificacion-blandas') : document.getElementById('clasificacion-duras');
  cont.innerHTML="";

  const grupo = tipo==='blandas' ? preguntasBlandas : preguntasDuras;

  Object.keys(grupo).forEach(sub=>{
    const p = document.createElement("p");
    p.textContent = sub.toUpperCase();
    p.onclick = ()=> mostrarPreguntas(tipo, sub);
    cont.appendChild(p);
  });
}

function mostrarPreguntas(tipo, sub){
  const cont = tipo==='blandas' ? document.getElementById('preguntas-blandas') : document.getElementById('preguntas-duras');
  const grupo = tipo==='blandas' ? preguntasBlandas[sub] : preguntasDuras[sub];

  document.getElementById('clasificacion-blandas').style.display="none";
  document.getElementById('clasificacion-duras').style.display="none";

  cont.innerHTML = `
  <h3>${sub.toUpperCase()}</h3>
  <form id="form-${sub}">
    ${grupo.map((q,i)=>`
      <div class="pregunta">
        <div>${q}</div>
        <div class="scale">
          ${[1,2,3,4,5].map(v=>`
            <label>${v}<input type="radio" name="${sub}_q${i}" value="${v}" required></label>
          `).join("")}
        </div>
      </div>
    `).join("")}

    <button class="btn-primary" type="submit">Guardar resultado</button>
    <button type="button" class="btn-ghost" onclick="volver()">Volver</button>
  </form>
  `;

  document.getElementById(`form-${sub}`).onsubmit = (e)=>{
    e.preventDefault();
    guardarCategoria(sub, tipo);
  }
}

function guardarCategoria(sub, tipo){
  const checked = [...document.querySelectorAll(`#form-${sub} input:checked`)];
  const promedio = checked.reduce((t,i)=>t+Number(i.value),0) / checked.length;

  storedCategoryScores[sub] = promedio;

  Object.keys(contribuciones[sub]).forEach(area=>{
    profileTotals[area] += promedio * contribuciones[sub][area];
  });

  volver();
  
  const total = Object.keys(preguntasBlandas).length + Object.keys(preguntasDuras).length;
  if(Object.keys(storedCategoryScores).length === total){
    document.getElementById("btn-final").style.display="inline-block";
  }
}

function volver(){
  document.getElementById('preguntas-blandas').innerHTML="";
  document.getElementById('preguntas-duras').innerHTML="";
  toggleClasificacionBlandas();
  toggleClasificacionDuras();
}

function mostrarResultadoFinal(){
  const totalAreas = Object.keys(profileTotals);
  let mejor = totalAreas[0];
  
  totalAreas.forEach(a=>{
    if(profileTotals[a] > profileTotals[mejor]){
      mejor = a;
    }
  });

  const box = document.getElementById('resultado-final');
  box.style.display="block";
  box.innerHTML = `
    <h3>Resultado final</h3>
    <p>Tu perfil más fuerte es: <strong>${mejor.toUpperCase()}</strong></p>
  `;
  window.scrollTo({top:0,behavior:"smooth"});
}

</script>

</body>
</html>
